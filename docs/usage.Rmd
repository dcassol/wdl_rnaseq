---
output: html_document
editor_options: 
  chunk_output_type: console
---

# Usage 

This workflow can be run using `Cromwell`:

The workflow can then be started with the following command:

```{bash, eval=FALSE}
java \
    -jar cromwell-<version>.jar \
    run \
    rnaseq.wdl \
    -o rnaseq.options.json  \
    -i rnaseq.json \

```

Where `rnaseq.options.json` contains the following json:

```{bash, eval=FALSE}
{
	"final_workflow_outputs_dir": "results",
  	"use_relative_output_paths": true
}
```

The `rnaseq.options.json` will make sure all outputs will be copy to 
`./results`.

## Inputs

Inputs are provided through a `JSON` file. 

Please note here that for each major step, we are providing sub directories for the 
output file. Also, the sample data file is provide here:

```{bash, eval=FALSE}
{
  "rnaseq.outdir_fastqc": "fastqc/",
  "rnaseq.outdir_trimmomatic": "trimmomatic/",
  "rnaseq.outdir_hs2b": "data_reference/", 
  "rnaseq.outdir_hisat2": "hisat2/",
  "rnaseq.inputSamplesFile": "./samples.txt",
}
```

Trimmomatic inputs:

```{bash, eval=FALSE}
  "rnaseq.trimmomatic_path": "trimmomatic",
  "rnaseq.seqType": "PE",
  "rnaseq.TRIM_threads": 2,
  "rnaseq.Phred": "-phred64",
  "rnaseq.truseq_pe_adapter": "param/adapters/TruSeq3-PE.fa",
  "rnaseq.leading": 3,
  "rnaseq.trailing": 3,
  "rnaseq.window": 4,
  "rnaseq.quality": 5,
  "rnaseq.minLength": 35,
}
```

Hisat2 inputs: 

```{bash, eval=FALSE}
  "rnaseq.reference": "data/tair10.fasta",
  "rnaseq.sortThreads": 2,
  "rnaseq.hisat2threads": 2,
}
```

Quantification inputs:

```{bash, eval=FALSE}
  "rnaseq.gff": "data/tair10.gff",
  "rnaseq.dataSource": "TAIR",
  "rnaseq.db_path": "tair10.sqlite",
  "rnaseq.outputcountDF": "countDFeByg.xls",
  "rnaseq.outputrpkm": "rpkmDFeByg.xls", 
  "rnaseq.script_quant": "tasks/scripts/quantification.doc.R",
  "rnaseq.targets": "targetsPE.txt",
  "rnaseq.DEGcounts": "DEGcounts.xls",
  "rnaseq.script_deg": "tasks/scripts/deg.doc.R"
}
```

## Outputs

This workflow will produce a number of directories and files:

- 
- 
- 
